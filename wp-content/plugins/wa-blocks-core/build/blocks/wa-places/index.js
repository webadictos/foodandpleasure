!function(){"use strict";var e,t={726:function(e,t,a){var l=window.wp.blocks,n=window.wp.element,o=(window.wp.i18n,window.wp.blockEditor),c=window.wp.components,i=window.wp.apiFetch,r=a.n(i),s=window.wp.url,p=JSON.parse('{"u2":"wa-blocks-core/wa-places"}');(0,l.registerBlockType)(p.u2,{attributes:{selectedContent:{type:"object",default:null},searchTerm:{type:"string",default:""}},getEditWrapperProps(e){return{"data-place-id":"bar","data-place-latitude":"bar","data-place-longitude":"bar"}},edit:function(e){let{attributes:t,setAttributes:a}=e;const[l,i]=(0,n.useState)(!1),[p,u]=(0,n.useState)(t.selectedContent||null),[f,_]=(0,n.useState)(t.searchTerm||""),[m,d]=(0,n.useState)(!1),[w,b]=(0,n.useState)([]),v=()=>{i(!1)};(0,n.useEffect)((()=>{f&&(async()=>{d(!0);try{const e=await r()({path:`/wp/v2/fp_location?search=${encodeURIComponent(f)}`});b(e)}catch(e){console.error("Error fetching search results:",e)}finally{d(!1)}})()}),[f]);const E=(0,o.useBlockProps)({"data-place-id":`${p&&void 0!==p.id?p.id:0}`,"data-place-latitude":`${p&&void 0!==p.cmb2.fp_location_fields.fp_location_geolocalizacion.latitude?p.cmb2.fp_location_fields.fp_location_geolocalizacion.latitude:0}`,"data-place-longitude":`${p&&void 0!==p.cmb2.fp_location_fields.fp_location_geolocalizacion.longitude?p.cmb2.fp_location_fields.fp_location_geolocalizacion.longitude:0}`});return(0,n.createElement)("div",E,p&&(0,n.createElement)("div",{className:"wa-place-item"},(0,n.createElement)("h3",{className:"wa-place-item__item--title"},p.title.rendered),(0,n.createElement)("ul",{className:"wa-place-item__info"},p.cmb2.fp_location_fields.fp_location_direccion?(0,n.createElement)("li",null,(0,n.createElement)("span",{className:"wa-place-item__info--label"},"Dirección:")," ",(0,n.createElement)("span",{className:"wa-place-item__info--value"},p.cmb2.fp_location_fields.fp_location_direccion)):null,p.cmb2.fp_location_fields.fp_location_telefono?(0,n.createElement)("li",null,(0,n.createElement)("span",{className:"wa-place-item__info--label"},"Teléfono:")," ",(0,n.createElement)("span",{className:"wa-place-item__info--value"},p.cmb2.fp_location_fields.fp_location_telefono)):null,p.cmb2.fp_location_fields.fp_location_web||(0,s.isURL)(p.cmb2.fp_location_fields.fp_location_web)?(0,n.createElement)("li",null,(0,n.createElement)("span",{className:"wa-place-item__info--label"},"Sitio Web:")," ",(0,n.createElement)("span",{className:"wa-place-item__info--value"},(0,n.createElement)("a",{href:p.cmb2.fp_location_fields.fp_location_web,target:"_blank",rel:"noopener"},(0,s.getAuthority)(p.cmb2.fp_location_fields.fp_location_web)))):null,p.cmb2.fp_location_fields.fp_location_social_networks?(0,n.createElement)("li",{className:"wa-place-item__social-networks"},(0,n.createElement)("span",{className:"wa-place-item__info--label"},"Redes sociales:")," ",p.cmb2.fp_location_fields.fp_location_social_networks.map(((e,t)=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)("a",{className:`wa-place-item__info--value wa-place-item__social--${e.social}`,href:e.url,target:"_blank",rel:"noopener",key:t},(0,s.getPath)(e.url).replace(/\/$/,""))," ")))):null)),(0,n.createElement)(c.Button,{onClick:()=>{i(!0),_(""),b([])}},p?"Cambiar lugar":"Seleccionar lugar"),l&&(0,n.createElement)(c.Modal,{title:"Seleccionar lugar",onRequestClose:v},(0,n.createElement)(c.TextControl,{value:f,onChange:e=>{_(e)},placeholder:"Introduce un término de búsqueda"}),m?(0,n.createElement)(c.Spinner,null):(0,n.createElement)("ul",null,w.map((e=>(0,n.createElement)("li",{key:e.id},(0,n.createElement)(c.Button,{onClick:()=>{return u(t=e),v(),a({selectedContent:t}),void console.log(t);var t}},e.title.rendered)))))))}})}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,l),o.exports}l.m=t,e=[],l.O=function(t,a,n,o){if(!a){var c=1/0;for(p=0;p<e.length;p++){a=e[p][0],n=e[p][1],o=e[p][2];for(var i=!0,r=0;r<a.length;r++)(!1&o||c>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[r])}))?a.splice(r--,1):(i=!1,o<c&&(c=o));if(i){e.splice(p--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[a,n,o]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={707:0,167:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,c=a[0],i=a[1],r=a[2],s=0;if(c.some((function(t){return 0!==e[t]}))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(r)var p=r(l)}for(t&&t(a);s<c.length;s++)o=c[s],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(p)},a=self.webpackChunkwa_blocks_core=self.webpackChunkwa_blocks_core||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var n=l.O(void 0,[167],(function(){return l(726)}));n=l.O(n)}();