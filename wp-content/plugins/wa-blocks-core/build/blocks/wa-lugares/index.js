!function(){"use strict";var e,l={332:function(e,l,a){var o=window.wp.blocks,t=window.wp.element,c=(window.wp.i18n,window.wp.blockEditor),n=window.wp.components,r=window.wp.apiFetch,i=a.n(r),s=window.wp.url,_=JSON.parse('{"u2":"wa-blocks-core/wa-lugares"}');(0,o.registerBlockType)(_.u2,{attributes:{selectedContent:{type:"object",default:null},searchTerm:{type:"string",default:""}},getEditWrapperProps(e){return{"data-place-id":"bar","data-place-latitude":"bar","data-place-longitude":"bar"}},edit:function(e){let{attributes:l,setAttributes:a}=e;const[o,r]=(0,t.useState)(!1),[_,p]=(0,t.useState)(l.selectedContent||null),[u,f]=(0,t.useState)(l.searchTerm||""),[b,w]=(0,t.useState)(!1),[m,d]=(0,t.useState)([]),k=()=>{r(!1)};(0,t.useEffect)((()=>{u&&(async()=>{w(!0);try{const e=await i()({path:`/wp/v2/fp_location?search=${encodeURIComponent(u)}`});d(e)}catch(e){console.error("Error fetching search results:",e)}finally{w(!1)}})()}),[u]);const g=(0,c.useBlockProps)({className:"wa-place-item","data-place-id":`${_&&void 0!==_.id?_.id:0}`,"data-place-latitude":`${_&&void 0!==_.cmb2.fp_location_fields.fp_location_geolocalizacion.latitude?_.cmb2.fp_location_fields.fp_location_geolocalizacion.latitude:0}`,"data-place-longitude":`${_&&void 0!==_.cmb2.fp_location_fields.fp_location_geolocalizacion.longitude?_.cmb2.fp_location_fields.fp_location_geolocalizacion.longitude:0}`});return(0,t.createElement)("div",g,_&&(0,t.createElement)("div",{className:"wp-block-wa-blocks-core-wa-lugares__item"},(0,t.createElement)("h3",{className:"wp-block-wa-blocks-core-wa-lugares__item--title"},_.title.rendered),(0,t.createElement)("ul",{className:"wp-block-wa-blocks-core-wa-lugares__info"},_.cmb2.fp_location_fields.fp_location_direccion?(0,t.createElement)("li",null,(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Dirección:")," ",(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--value"},_.cmb2.fp_location_fields.fp_location_direccion)):null,_.cmb2.fp_location_fields.fp_location_telefono?(0,t.createElement)("li",null,(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Teléfono:")," ",(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--value"},_.cmb2.fp_location_fields.fp_location_telefono)):null,_.cmb2.fp_location_fields.fp_location_web||(0,s.isURL)(_.cmb2.fp_location_fields.fp_location_web)?(0,t.createElement)("li",null,(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Sitio Web:")," ",(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--value"},(0,t.createElement)("a",{href:_.cmb2.fp_location_fields.fp_location_web,target:"_blank",rel:"noopener"},(0,s.getAuthority)(_.cmb2.fp_location_fields.fp_location_web)))):null,_.cmb2.fp_location_fields.fp_location_social_networks?(0,t.createElement)("li",{className:"wp-block-wa-blocks-core-wa-lugares__social-networks"},(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Redes sociales:")," ",_.cmb2.fp_location_fields.fp_location_social_networks.map(((e,l)=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)("a",{className:`wp-block-wa-blocks-core-wa-lugares__info--value wp-block-wa-blocks-core-wa-lugares__social--${e.social}`,href:e.url,target:"_blank",rel:"noopener",key:l},(0,s.getPath)(e.url).replace(/\/$/,""))," ")))):null)),(0,t.createElement)(n.Button,{onClick:()=>{r(!0),f(""),d([])}},_?"Cambiar lugar":"Seleccionar lugar"),o&&(0,t.createElement)(n.Modal,{title:"Seleccionar lugar",onRequestClose:k},(0,t.createElement)(n.TextControl,{value:u,onChange:e=>{f(e)},placeholder:"Introduce un término de búsqueda"}),b?(0,t.createElement)(n.Spinner,null):(0,t.createElement)("ul",null,m.map((e=>(0,t.createElement)("li",{key:e.id},(0,t.createElement)(n.Button,{onClick:()=>{return p(l=e),k(),a({selectedContent:l}),void console.log(l);var l}},e.title.rendered)))))))},save:function(e){const{attributes:l}=e,{selectedContent:a}=l;if(a){const{id:e,cmb2:{fp_location_fields:{fp_location_geolocalizacion:{latitude:l,longitude:o}}}}=a,n=c.useBlockProps.save({className:"wa-place-item","data-place-id":`${void 0!==e?e:0}`,"data-place-latitude":`${void 0!==l?l:0}`,"data-place-longitude":`${void 0!==o?o:0}`});return(0,t.createElement)("div",n,(0,t.createElement)("div",{className:"wp-block-wa-blocks-core-wa-lugares__item"},(0,t.createElement)("h3",{className:"wp-block-wa-blocks-core-wa-lugares__item--title"},a.title.rendered),(0,t.createElement)("ul",{className:"wp-block-wa-blocks-core-wa-lugares__info"},a.cmb2.fp_location_fields.fp_location_direccion?(0,t.createElement)("li",null,(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Dirección:")," ",(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--value"},a.cmb2.fp_location_fields.fp_location_direccion)):null,a.cmb2.fp_location_fields.fp_location_telefono?(0,t.createElement)("li",null,(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Teléfono:")," ",(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--value"},a.cmb2.fp_location_fields.fp_location_telefono)):null,a.cmb2.fp_location_fields.fp_location_web||(0,s.isURL)(a.cmb2.fp_location_fields.fp_location_web)?(0,t.createElement)("li",null,(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Sitio Web:")," ",(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--value"},(0,t.createElement)("a",{href:a.cmb2.fp_location_fields.fp_location_web,target:"_blank",rel:"noopener"},(0,s.getAuthority)(a.cmb2.fp_location_fields.fp_location_web)))):null,a.cmb2.fp_location_fields.fp_location_social_networks?(0,t.createElement)("li",{className:"wp-block-wa-blocks-core-wa-lugares__social-networks"},(0,t.createElement)("span",{className:"wp-block-wa-blocks-core-wa-lugares__info--label"},"Redes sociales:")," ",a.cmb2.fp_location_fields.fp_location_social_networks.map(((e,l)=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)("a",{className:`wp-block-wa-blocks-core-wa-lugares__info--value wp-block-wa-blocks-core-wa-lugares__social--${e.social}`,href:e.url,target:"_blank",rel:"noopener",key:l},(0,s.getPath)(e.url).replace(/\/$/,""))," ")))):null)),""!==l&&""!==o?(0,t.createElement)("div",{className:"wp-block-wa-blocks-core-wa-lugares__item--button"}," ",(0,t.createElement)("button",{className:"btn btn-primary btn-map"},"Ver en mapa")):null)}}})}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var c=a[e]={exports:{}};return l[e](c,c.exports,o),c.exports}o.m=l,e=[],o.O=function(l,a,t,c){if(!a){var n=1/0;for(_=0;_<e.length;_++){a=e[_][0],t=e[_][1],c=e[_][2];for(var r=!0,i=0;i<a.length;i++)(!1&c||n>=c)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(r=!1,c<n&&(n=c));if(r){e.splice(_--,1);var s=t();void 0!==s&&(l=s)}}return l}c=c||0;for(var _=e.length;_>0&&e[_-1][2]>c;_--)e[_]=e[_-1];e[_]=[a,t,c]},o.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(l,{a:l}),l},o.d=function(e,l){for(var a in l)o.o(l,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})},o.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},function(){var e={169:0,327:0};o.O.j=function(l){return 0===e[l]};var l=function(l,a){var t,c,n=a[0],r=a[1],i=a[2],s=0;if(n.some((function(l){return 0!==e[l]}))){for(t in r)o.o(r,t)&&(o.m[t]=r[t]);if(i)var _=i(o)}for(l&&l(a);s<n.length;s++)c=n[s],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(_)},a=self.webpackChunkwa_blocks_core=self.webpackChunkwa_blocks_core||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var t=o.O(void 0,[327],(function(){return o(332)}));t=o.O(t)}();