(self.webpackChunk=self.webpackChunk||[]).push([["archive-infinite-scroll"],{"./js/archive-infinite-scroll.js":function(){(()=>{const r={api:ThemeSetup.ajaxurl,max_page:ThemeSetup.loadmore.max_page||1,query:ThemeSetup.loadmore.posts,page:ThemeSetup.loadmore.current_page,articlesContainer:".archive-articles-container"};let n=document.querySelector(r.articlesContainer),a=!0;const t=e=>{e=new CustomEvent("is.page-load",{detail:{currentPage:e,infinitescroll:!0}});document.querySelector("body").dispatchEvent(e)},e=async()=>{try{return await(await fetch((e=r.api,a=n.dataset.loadmoreLayout||"flex",t=n.dataset.loadmoreItemLayout||"",t={action:"loadmore_archive",query:r.query,page:r.page,item_layout:t,layout:a},(a=new URL(e)).search=new URLSearchParams(t).toString(),a))).json()}catch(e){console.log(e)}var e,a,t},o=()=>{return window.pageYOffset>n.offsetHeight-n.offsetHeight/2&&1==a&&r.page<r.max_page};return{init:()=>{window.addEventListener("scroll",()=>{o()&&(a=!1,e().then(e=>{e=document.createRange().createContextualFragment(e.data);n.appendChild(e),r.page++,t(r.page),a=!0}))},!1)}}})().init()}}]);